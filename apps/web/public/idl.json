{
  "address": "Coxgjx4UMQZPRdDZT9CAdrvt4TMTyUKH79ziJiNFHk8S",
  "metadata": {
    "name": "task_escrow",
    "version": "0.1.0",
    "spec": "0.1.0",
    "description": "Verbitto Task Settlement — SOL escrow, disputes, templates"
  },
  "instructions": [
    {
      "name": "approve_and_settle",
      "discriminator": [149, 210, 18, 168, 18, 3, 209, 224],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "creator",
          "writable": true,
          "signer": true
        },
        {
          "name": "agent",
          "writable": true
        },
        {
          "name": "agent_profile",
          "docs": ["Agent's on-chain profile. Updated with completion stats."],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [97, 103, 101, 110, 116]
              },
              {
                "kind": "account",
                "path": "task.agent",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "treasury",
          "writable": true
        }
      ],
      "args": []
    },
    {
      "name": "cancel_task",
      "discriminator": [69, 228, 134, 187, 134, 105, 238, 48],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "creator",
          "writable": true,
          "signer": true
        }
      ],
      "args": []
    },
    {
      "name": "cast_vote",
      "discriminator": [20, 212, 15, 189, 69, 180, 69, 151],
      "accounts": [
        {
          "name": "task",
          "docs": ["Task account referenced by the dispute. Used to verify voter is not a party."],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "dispute",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [100, 105, 115, 112, 117, 116, 101]
              },
              {
                "kind": "account",
                "path": "task"
              }
            ]
          }
        },
        {
          "name": "platform",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "vote",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [118, 111, 116, 101]
              },
              {
                "kind": "account",
                "path": "dispute"
              },
              {
                "kind": "account",
                "path": "voter"
              }
            ]
          }
        },
        {
          "name": "voter_profile",
          "docs": ["Voter must have a registered agent profile (sybil protection)."],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [97, 103, 101, 110, 116]
              },
              {
                "kind": "account",
                "path": "voter"
              }
            ]
          }
        },
        {
          "name": "voter",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "ruling",
          "type": {
            "defined": {
              "name": "Ruling"
            }
          }
        }
      ]
    },
    {
      "name": "claim_task",
      "discriminator": [49, 222, 219, 238, 155, 68, 221, 136],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "platform",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "agent_profile",
          "docs": ["Agent must have a registered profile to claim tasks."],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [97, 103, 101, 110, 116]
              },
              {
                "kind": "account",
                "path": "agent"
              }
            ]
          }
        },
        {
          "name": "agent",
          "signer": true
        }
      ],
      "args": []
    },
    {
      "name": "create_task",
      "discriminator": [194, 80, 6, 180, 232, 127, 48, 171],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "creator"
              },
              {
                "kind": "arg",
                "path": "task_index"
              }
            ]
          }
        },
        {
          "name": "creator_counter",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [99, 114, 101, 97, 116, 111, 114]
              },
              {
                "kind": "account",
                "path": "creator"
              }
            ]
          }
        },
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "creator",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "title",
          "type": "string"
        },
        {
          "name": "description_hash",
          "type": {
            "array": ["u8", 32]
          }
        },
        {
          "name": "bounty_lamports",
          "type": "u64"
        },
        {
          "name": "task_index",
          "type": "u64"
        },
        {
          "name": "deadline",
          "type": "i64"
        },
        {
          "name": "reputation_reward",
          "type": "i64"
        }
      ]
    },
    {
      "name": "create_task_from_template",
      "discriminator": [201, 88, 188, 163, 6, 21, 239, 202],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "creator"
              },
              {
                "kind": "arg",
                "path": "task_index"
              }
            ]
          }
        },
        {
          "name": "creator_counter",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [99, 114, 101, 97, 116, 111, 114]
              },
              {
                "kind": "account",
                "path": "creator"
              }
            ]
          }
        },
        {
          "name": "template",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 101, 109, 112, 108, 97, 116, 101]
              },
              {
                "kind": "account",
                "path": "template.creator",
                "account": "TaskTemplate"
              },
              {
                "kind": "account",
                "path": "template.template_index",
                "account": "TaskTemplate"
              }
            ]
          }
        },
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "creator",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "bounty_lamports",
          "type": "u64"
        },
        {
          "name": "deadline",
          "type": "i64"
        },
        {
          "name": "reputation_reward",
          "type": "i64"
        },
        {
          "name": "task_index",
          "type": "u64"
        }
      ]
    },
    {
      "name": "create_template",
      "discriminator": [245, 51, 247, 234, 31, 9, 40, 227],
      "accounts": [
        {
          "name": "template",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 101, 109, 112, 108, 97, 116, 101]
              },
              {
                "kind": "account",
                "path": "creator"
              },
              {
                "kind": "account",
                "path": "platform.template_count",
                "account": "Platform"
              }
            ]
          }
        },
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "creator",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "title",
          "type": "string"
        },
        {
          "name": "description_hash",
          "type": {
            "array": ["u8", 32]
          }
        },
        {
          "name": "default_bounty_lamports",
          "type": "u64"
        },
        {
          "name": "category",
          "type": {
            "defined": {
              "name": "TaskCategory"
            }
          }
        }
      ]
    },
    {
      "name": "deactivate_template",
      "discriminator": [161, 89, 173, 13, 150, 247, 106, 194],
      "accounts": [
        {
          "name": "template",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 101, 109, 112, 108, 97, 116, 101]
              },
              {
                "kind": "account",
                "path": "template.creator",
                "account": "TaskTemplate"
              },
              {
                "kind": "account",
                "path": "template.template_index",
                "account": "TaskTemplate"
              }
            ]
          }
        },
        {
          "name": "creator",
          "signer": true,
          "relations": ["template"]
        }
      ],
      "args": []
    },
    {
      "name": "expire_task",
      "discriminator": [116, 94, 206, 205, 170, 51, 156, 98],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "creator",
          "writable": true
        },
        {
          "name": "platform",
          "docs": ["Platform config (needed for claim_grace_period)."],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "caller",
          "docs": ["Anyone can trigger expiration."],
          "signer": true
        }
      ],
      "args": []
    },
    {
      "name": "initialize_platform",
      "discriminator": [119, 201, 101, 45, 75, 122, 89, 3],
      "accounts": [
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "treasury"
        },
        {
          "name": "authority",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "fee_bps",
          "type": "u16"
        },
        {
          "name": "min_bounty_lamports",
          "type": "u64"
        },
        {
          "name": "dispute_voting_period",
          "type": "i64"
        },
        {
          "name": "dispute_min_votes",
          "type": "u8"
        },
        {
          "name": "min_voter_reputation",
          "type": "i64"
        },
        {
          "name": "claim_grace_period",
          "type": "i64"
        }
      ]
    },
    {
      "name": "open_dispute",
      "discriminator": [137, 25, 99, 119, 23, 223, 161, 42],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "dispute",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [100, 105, 115, 112, 117, 116, 101]
              },
              {
                "kind": "account",
                "path": "task"
              }
            ]
          }
        },
        {
          "name": "initiator",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "reason",
          "type": {
            "defined": {
              "name": "DisputeReason"
            }
          }
        },
        {
          "name": "evidence_hash",
          "type": {
            "array": ["u8", 32]
          }
        }
      ]
    },
    {
      "name": "pause_platform",
      "discriminator": [232, 46, 204, 130, 181, 0, 172, 57],
      "accounts": [
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "authority",
          "signer": true,
          "relations": ["platform"]
        }
      ],
      "args": []
    },
    {
      "name": "register_agent",
      "discriminator": [135, 157, 66, 195, 2, 113, 175, 30],
      "accounts": [
        {
          "name": "agent_profile",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [97, 103, 101, 110, 116]
              },
              {
                "kind": "account",
                "path": "authority"
              }
            ]
          }
        },
        {
          "name": "authority",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "skill_tags",
          "type": "u8"
        }
      ]
    },
    {
      "name": "reject_submission",
      "discriminator": [2, 92, 1, 81, 148, 156, 6, 160],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "creator",
          "signer": true
        }
      ],
      "args": [
        {
          "name": "reason_hash",
          "type": {
            "array": ["u8", 32]
          }
        }
      ]
    },
    {
      "name": "resolve_dispute",
      "discriminator": [231, 6, 202, 6, 96, 103, 12, 230],
      "accounts": [
        {
          "name": "dispute",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [100, 105, 115, 112, 117, 116, 101]
              },
              {
                "kind": "account",
                "path": "task"
              }
            ]
          }
        },
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "creator",
          "writable": true
        },
        {
          "name": "agent",
          "writable": true
        },
        {
          "name": "agent_profile",
          "docs": ["Agent's on-chain profile. Updated with dispute outcome."],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [97, 103, 101, 110, 116]
              },
              {
                "kind": "account",
                "path": "task.agent",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "treasury",
          "writable": true
        },
        {
          "name": "caller",
          "docs": ["Anyone can trigger dispute resolution after voting period."],
          "signer": true
        }
      ],
      "args": []
    },
    {
      "name": "resume_platform",
      "discriminator": [23, 162, 56, 123, 186, 207, 109, 131],
      "accounts": [
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "authority",
          "signer": true,
          "relations": ["platform"]
        }
      ],
      "args": []
    },
    {
      "name": "submit_deliverable",
      "discriminator": [38, 137, 64, 44, 237, 11, 125, 101],
      "accounts": [
        {
          "name": "task",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [116, 97, 115, 107]
              },
              {
                "kind": "account",
                "path": "task.creator",
                "account": "Task"
              },
              {
                "kind": "account",
                "path": "task.task_index",
                "account": "Task"
              }
            ]
          }
        },
        {
          "name": "platform",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "agent",
          "signer": true
        }
      ],
      "args": [
        {
          "name": "deliverable_hash",
          "type": {
            "array": ["u8", 32]
          }
        }
      ]
    },
    {
      "name": "update_agent_skills",
      "discriminator": [85, 199, 126, 131, 237, 98, 184, 64],
      "accounts": [
        {
          "name": "agent_profile",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [97, 103, 101, 110, 116]
              },
              {
                "kind": "account",
                "path": "authority"
              }
            ]
          }
        },
        {
          "name": "authority",
          "signer": true,
          "relations": ["agent_profile"]
        }
      ],
      "args": [
        {
          "name": "skill_tags",
          "type": "u8"
        }
      ]
    },
    {
      "name": "update_platform",
      "discriminator": [46, 78, 138, 189, 47, 163, 120, 85],
      "accounts": [
        {
          "name": "platform",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [112, 108, 97, 116, 102, 111, 114, 109]
              }
            ]
          }
        },
        {
          "name": "authority",
          "signer": true,
          "relations": ["platform"]
        }
      ],
      "args": [
        {
          "name": "fee_bps",
          "type": "u16"
        },
        {
          "name": "min_bounty_lamports",
          "type": "u64"
        },
        {
          "name": "dispute_voting_period",
          "type": "i64"
        },
        {
          "name": "dispute_min_votes",
          "type": "u8"
        },
        {
          "name": "min_voter_reputation",
          "type": "i64"
        },
        {
          "name": "claim_grace_period",
          "type": "i64"
        },
        {
          "name": "treasury",
          "type": "pubkey"
        }
      ]
    }
  ],
  "accounts": [
    {
      "name": "AgentProfile",
      "discriminator": [60, 227, 42, 24, 0, 87, 86, 205]
    },
    {
      "name": "ArbitratorVote",
      "discriminator": [12, 102, 2, 171, 197, 209, 33, 66]
    },
    {
      "name": "CreatorCounter",
      "discriminator": [62, 129, 78, 26, 23, 138, 248, 82]
    },
    {
      "name": "Dispute",
      "discriminator": [36, 49, 241, 67, 40, 36, 241, 74]
    },
    {
      "name": "Platform",
      "discriminator": [77, 92, 204, 58, 187, 98, 91, 12]
    },
    {
      "name": "Task",
      "discriminator": [79, 34, 229, 55, 88, 90, 55, 84]
    },
    {
      "name": "TaskTemplate",
      "discriminator": [254, 91, 117, 85, 27, 252, 247, 172]
    }
  ],
  "events": [
    {
      "name": "AgentProfileUpdated",
      "discriminator": [37, 86, 36, 71, 59, 237, 6, 247]
    },
    {
      "name": "AgentRegistered",
      "discriminator": [191, 78, 217, 54, 232, 100, 189, 85]
    },
    {
      "name": "DeliverableSubmitted",
      "discriminator": [128, 198, 110, 44, 67, 73, 255, 99]
    },
    {
      "name": "DisputeOpened",
      "discriminator": [239, 222, 102, 235, 193, 85, 1, 214]
    },
    {
      "name": "DisputeResolved",
      "discriminator": [121, 64, 249, 153, 139, 128, 236, 187]
    },
    {
      "name": "PlatformInitialized",
      "discriminator": [16, 222, 212, 5, 213, 140, 112, 162]
    },
    {
      "name": "SubmissionRejected",
      "discriminator": [222, 120, 204, 232, 51, 196, 71, 146]
    },
    {
      "name": "TaskCancelled",
      "discriminator": [158, 101, 220, 187, 16, 141, 141, 64]
    },
    {
      "name": "TaskClaimed",
      "discriminator": [208, 90, 243, 116, 80, 15, 228, 202]
    },
    {
      "name": "TaskCreated",
      "discriminator": [49, 174, 6, 7, 71, 159, 69, 175]
    },
    {
      "name": "TaskExpired",
      "discriminator": [36, 130, 189, 154, 110, 249, 231, 45]
    },
    {
      "name": "TaskSettled",
      "discriminator": [161, 220, 91, 215, 23, 253, 247, 65]
    },
    {
      "name": "TemplateCreated",
      "discriminator": [182, 124, 104, 44, 8, 70, 124, 46]
    },
    {
      "name": "VoteCast",
      "discriminator": [39, 53, 195, 104, 188, 17, 225, 213]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "InvalidFee",
      "msg": "Fee basis points must be ≤ 5000 (50%)"
    },
    {
      "code": 6001,
      "name": "InvalidConfig",
      "msg": "Invalid platform configuration"
    },
    {
      "code": 6002,
      "name": "BountyTooLow",
      "msg": "Bounty is below the platform minimum"
    },
    {
      "code": 6003,
      "name": "TitleTooLong",
      "msg": "Title exceeds 64 characters"
    },
    {
      "code": 6004,
      "name": "DeadlineInPast",
      "msg": "Deadline must be in the future"
    },
    {
      "code": 6005,
      "name": "InvalidRepReward",
      "msg": "Reputation reward must be 0–1000"
    },
    {
      "code": 6006,
      "name": "TaskNotOpen",
      "msg": "Task is not in Open status"
    },
    {
      "code": 6007,
      "name": "TaskExpired",
      "msg": "Task has passed its deadline"
    },
    {
      "code": 6008,
      "name": "TaskNotClaimedOrRejected",
      "msg": "Task is not in Claimed or Rejected status"
    },
    {
      "code": 6009,
      "name": "NotAssignedAgent",
      "msg": "Caller is not the assigned agent"
    },
    {
      "code": 6010,
      "name": "TaskNotSubmitted",
      "msg": "Task is not in Submitted status"
    },
    {
      "code": 6011,
      "name": "NotTaskCreator",
      "msg": "Caller is not the task creator"
    },
    {
      "code": 6012,
      "name": "DeadlineNotReached",
      "msg": "Deadline has not been reached yet"
    },
    {
      "code": 6013,
      "name": "TaskCannotExpire",
      "msg": "Task cannot be expired in its current status"
    },
    {
      "code": 6014,
      "name": "TemplateInactive",
      "msg": "Template is not active"
    },
    {
      "code": 6015,
      "name": "TaskNotDisputable",
      "msg": "Task is not in a disputable status"
    },
    {
      "code": 6016,
      "name": "NotTaskParty",
      "msg": "Caller is not a party to this task"
    },
    {
      "code": 6017,
      "name": "DisputeNotOpen",
      "msg": "Dispute is not open"
    },
    {
      "code": 6018,
      "name": "TaskNotDisputed",
      "msg": "Task is not in Disputed status"
    },
    {
      "code": 6019,
      "name": "InvalidRuling",
      "msg": "Invalid ruling value"
    },
    {
      "code": 6020,
      "name": "VotingPeriodEnded",
      "msg": "Voting period has ended"
    },
    {
      "code": 6021,
      "name": "VotingPeriodNotEnded",
      "msg": "Voting period has not ended yet"
    },
    {
      "code": 6022,
      "name": "PartyCannotVote",
      "msg": "Task parties cannot vote on their own dispute"
    },
    {
      "code": 6023,
      "name": "InsufficientVotes",
      "msg": "Insufficient votes to resolve dispute"
    },
    {
      "code": 6024,
      "name": "DisputeTaskMismatch",
      "msg": "Dispute does not reference this task"
    },
    {
      "code": 6025,
      "name": "InvalidTreasury",
      "msg": "Treasury account does not match platform config"
    },
    {
      "code": 6026,
      "name": "NotProfileOwner",
      "msg": "Caller is not the profile owner"
    },
    {
      "code": 6027,
      "name": "InsufficientReputation",
      "msg": "Voter reputation is below the minimum required to vote"
    },
    {
      "code": 6028,
      "name": "PlatformPaused",
      "msg": "Platform is paused"
    },
    {
      "code": 6029,
      "name": "PlatformAlreadyPaused",
      "msg": "Platform is already paused"
    },
    {
      "code": 6030,
      "name": "PlatformNotPaused",
      "msg": "Platform is not paused"
    },
    {
      "code": 6031,
      "name": "NotPlatformAuthority",
      "msg": "Caller is not the platform authority"
    },
    {
      "code": 6032,
      "name": "ArithmeticOverflow",
      "msg": "Arithmetic overflow in calculation"
    },
    {
      "code": 6033,
      "name": "MaxRejectionsReached",
      "msg": "Maximum rejection limit reached — task auto-disputed"
    },
    {
      "code": 6034,
      "name": "InvalidTaskIndex",
      "msg": "Task index does not match creator counter"
    }
  ],
  "types": [
    {
      "name": "AgentProfile",
      "docs": ["On-chain agent identity and reputation profile.", "PDA: [b\"agent\", authority]"],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "docs": ["Agent wallet (signer authority)"],
            "type": "pubkey"
          },
          {
            "name": "reputation_score",
            "docs": ["Cumulative reputation score (can go negative)"],
            "type": "i64"
          },
          {
            "name": "tasks_completed",
            "docs": ["Total tasks successfully completed"],
            "type": "u64"
          },
          {
            "name": "tasks_disputed",
            "docs": ["Total tasks that went to dispute"],
            "type": "u64"
          },
          {
            "name": "disputes_won",
            "docs": ["Disputes where agent won"],
            "type": "u64"
          },
          {
            "name": "disputes_lost",
            "docs": ["Disputes where agent lost"],
            "type": "u64"
          },
          {
            "name": "total_earned_lamports",
            "docs": ["Total SOL earned (lamports)"],
            "type": "u64"
          },
          {
            "name": "registered_at",
            "docs": ["Registration timestamp"],
            "type": "i64"
          },
          {
            "name": "skill_tags",
            "docs": ["Skill bitmap (bit 0=DataLabeling, 1=LiteratureReview, ..., 6=Other)"],
            "type": "u8"
          },
          {
            "name": "bump",
            "docs": ["PDA bump"],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "AgentProfileUpdated",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "agent",
            "type": "pubkey"
          },
          {
            "name": "reputation_score",
            "type": "i64"
          },
          {
            "name": "tasks_completed",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "AgentRegistered",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "agent",
            "type": "pubkey"
          },
          {
            "name": "profile",
            "type": "pubkey"
          }
        ]
      }
    },
    {
      "name": "ArbitratorVote",
      "docs": ["Individual arbitrator vote on a dispute."],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "dispute",
            "docs": ["Dispute being voted on"],
            "type": "pubkey"
          },
          {
            "name": "arbitrator",
            "docs": ["Voter's pubkey"],
            "type": "pubkey"
          },
          {
            "name": "ruling",
            "docs": ["Voter's ruling"],
            "type": {
              "defined": {
                "name": "Ruling"
              }
            }
          },
          {
            "name": "voted_at",
            "docs": ["When vote was cast"],
            "type": "i64"
          },
          {
            "name": "bump",
            "docs": ["PDA bump"],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "CreatorCounter",
      "docs": [
        "Per-creator task counter to eliminate global task_count contention.",
        "PDA: [b\"creator\", authority]"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "docs": ["Creator wallet"],
            "type": "pubkey"
          },
          {
            "name": "task_count",
            "docs": ["Creator-local sequential task counter"],
            "type": "u64"
          },
          {
            "name": "bump",
            "docs": ["PDA bump"],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "DeliverableSubmitted",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "agent",
            "type": "pubkey"
          },
          {
            "name": "deliverable_hash",
            "type": {
              "array": ["u8", 32]
            }
          }
        ]
      }
    },
    {
      "name": "Dispute",
      "docs": ["Dispute record for a task."],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "docs": ["Task being disputed"],
            "type": "pubkey"
          },
          {
            "name": "initiator",
            "docs": ["Who opened the dispute"],
            "type": "pubkey"
          },
          {
            "name": "reason",
            "docs": ["Reason category"],
            "type": {
              "defined": {
                "name": "DisputeReason"
              }
            }
          },
          {
            "name": "evidence_hash",
            "docs": ["Evidence content hash"],
            "type": {
              "array": ["u8", 32]
            }
          },
          {
            "name": "status",
            "docs": ["Current dispute status"],
            "type": {
              "defined": {
                "name": "DisputeStatus"
              }
            }
          },
          {
            "name": "votes_for_creator",
            "docs": ["Votes for creator wins"],
            "type": "u16"
          },
          {
            "name": "votes_for_agent",
            "docs": ["Votes for agent wins"],
            "type": "u16"
          },
          {
            "name": "votes_for_split",
            "docs": ["Votes for 50/50 split"],
            "type": "u16"
          },
          {
            "name": "opened_at",
            "docs": ["When dispute was opened"],
            "type": "i64"
          },
          {
            "name": "resolved_at",
            "docs": ["When dispute was resolved (0 if open)"],
            "type": "i64"
          },
          {
            "name": "ruling",
            "docs": ["Final ruling"],
            "type": {
              "defined": {
                "name": "Ruling"
              }
            }
          },
          {
            "name": "bump",
            "docs": ["PDA bump"],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "DisputeOpened",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "dispute",
            "type": "pubkey"
          },
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "initiator",
            "type": "pubkey"
          },
          {
            "name": "reason",
            "type": {
              "defined": {
                "name": "DisputeReason"
              }
            }
          }
        ]
      }
    },
    {
      "name": "DisputeReason",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "QualityIssue"
          },
          {
            "name": "DeadlineMissed"
          },
          {
            "name": "Plagiarism"
          },
          {
            "name": "Other"
          }
        ]
      }
    },
    {
      "name": "DisputeResolved",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "dispute",
            "type": "pubkey"
          },
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "ruling",
            "type": {
              "defined": {
                "name": "Ruling"
              }
            }
          },
          {
            "name": "total_votes",
            "type": "u16"
          }
        ]
      }
    },
    {
      "name": "DisputeStatus",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Open"
          },
          {
            "name": "Resolved"
          }
        ]
      }
    },
    {
      "name": "Platform",
      "docs": ["Global platform configuration. Singleton PDA."],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "docs": ["Platform admin who can update config"],
            "type": "pubkey"
          },
          {
            "name": "fee_bps",
            "docs": ["Platform fee in basis points (e.g. 250 = 2.5%)"],
            "type": "u16"
          },
          {
            "name": "min_bounty_lamports",
            "docs": ["Minimum task bounty in lamports"],
            "type": "u64"
          },
          {
            "name": "treasury",
            "docs": ["Fee recipient wallet"],
            "type": "pubkey"
          },
          {
            "name": "task_count",
            "docs": ["Global sequential task counter"],
            "type": "u64"
          },
          {
            "name": "template_count",
            "docs": ["Global sequential template counter"],
            "type": "u64"
          },
          {
            "name": "total_settled_lamports",
            "docs": ["Cumulative settled volume in lamports"],
            "type": "u64"
          },
          {
            "name": "dispute_voting_period",
            "docs": ["Dispute voting period in seconds"],
            "type": "i64"
          },
          {
            "name": "dispute_min_votes",
            "docs": ["Minimum votes required to resolve a dispute"],
            "type": "u8"
          },
          {
            "name": "min_voter_reputation",
            "docs": ["Minimum reputation score required to vote on disputes"],
            "type": "i64"
          },
          {
            "name": "claim_grace_period",
            "docs": ["Grace period (seconds) after deadline for Claimed tasks before expiry"],
            "type": "i64"
          },
          {
            "name": "is_paused",
            "docs": ["Whether the platform is paused (emergency stop)"],
            "type": "bool"
          },
          {
            "name": "bump",
            "docs": ["PDA bump"],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "PlatformInitialized",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "type": "pubkey"
          },
          {
            "name": "fee_bps",
            "type": "u16"
          },
          {
            "name": "treasury",
            "type": "pubkey"
          }
        ]
      }
    },
    {
      "name": "Ruling",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Pending"
          },
          {
            "name": "CreatorWins"
          },
          {
            "name": "AgentWins"
          },
          {
            "name": "Split"
          }
        ]
      }
    },
    {
      "name": "SubmissionRejected",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "agent",
            "type": "pubkey"
          },
          {
            "name": "reason_hash",
            "type": {
              "array": ["u8", 32]
            }
          }
        ]
      }
    },
    {
      "name": "Task",
      "docs": ["Individual task with escrowed SOL bounty."],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "creator",
            "docs": ["Task creator (bounty depositor)"],
            "type": "pubkey"
          },
          {
            "name": "task_index",
            "docs": ["Sequential task index (global)"],
            "type": "u64"
          },
          {
            "name": "bounty_lamports",
            "docs": ["Bounty amount in lamports (held in this PDA)"],
            "type": "u64"
          },
          {
            "name": "status",
            "docs": ["Current task status"],
            "type": {
              "defined": {
                "name": "TaskStatus"
              }
            }
          },
          {
            "name": "agent",
            "docs": ["Assigned agent (Pubkey::default if unclaimed)"],
            "type": "pubkey"
          },
          {
            "name": "deadline",
            "docs": ["Unix timestamp deadline"],
            "type": "i64"
          },
          {
            "name": "created_at",
            "docs": ["Creation timestamp"],
            "type": "i64"
          },
          {
            "name": "settled_at",
            "docs": ["Settlement timestamp (0 if unsettled)"],
            "type": "i64"
          },
          {
            "name": "reputation_reward",
            "docs": ["Reputation reward on task approval"],
            "type": "i64"
          },
          {
            "name": "title",
            "docs": ["Task title (max 64 chars)"],
            "type": "string"
          },
          {
            "name": "description_hash",
            "docs": ["IPFS/Arweave content hash of full description"],
            "type": {
              "array": ["u8", 32]
            }
          },
          {
            "name": "deliverable_hash",
            "docs": ["Content hash of submitted deliverable"],
            "type": {
              "array": ["u8", 32]
            }
          },
          {
            "name": "template_index",
            "docs": ["Template index (1-indexed, 0 = no template)"],
            "type": "u64"
          },
          {
            "name": "rejection_count",
            "docs": ["Number of times this task's submission has been rejected"],
            "type": "u8"
          },
          {
            "name": "bump",
            "docs": ["PDA bump"],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "TaskCancelled",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "creator",
            "type": "pubkey"
          },
          {
            "name": "refunded_lamports",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "TaskCategory",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "DataLabeling"
          },
          {
            "name": "LiteratureReview"
          },
          {
            "name": "CodeReview"
          },
          {
            "name": "Translation"
          },
          {
            "name": "Analysis"
          },
          {
            "name": "Research"
          },
          {
            "name": "Other"
          }
        ]
      }
    },
    {
      "name": "TaskClaimed",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "agent",
            "type": "pubkey"
          },
          {
            "name": "task_index",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "TaskCreated",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "creator",
            "type": "pubkey"
          },
          {
            "name": "task_index",
            "type": "u64"
          },
          {
            "name": "bounty_lamports",
            "type": "u64"
          },
          {
            "name": "deadline",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "TaskExpired",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "creator",
            "type": "pubkey"
          },
          {
            "name": "refunded_lamports",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "TaskSettled",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "task",
            "type": "pubkey"
          },
          {
            "name": "agent",
            "type": "pubkey"
          },
          {
            "name": "payout_lamports",
            "type": "u64"
          },
          {
            "name": "fee_lamports",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "TaskStatus",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Open"
          },
          {
            "name": "Claimed"
          },
          {
            "name": "Submitted"
          },
          {
            "name": "Approved"
          },
          {
            "name": "Rejected"
          },
          {
            "name": "Cancelled"
          },
          {
            "name": "Expired"
          },
          {
            "name": "Disputed"
          }
        ]
      }
    },
    {
      "name": "TaskTemplate",
      "docs": ["Reusable task template."],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "creator",
            "docs": ["Template creator"],
            "type": "pubkey"
          },
          {
            "name": "template_index",
            "docs": ["Sequential template index"],
            "type": "u64"
          },
          {
            "name": "title",
            "docs": ["Template title"],
            "type": "string"
          },
          {
            "name": "description_hash",
            "docs": ["Description content hash"],
            "type": {
              "array": ["u8", 32]
            }
          },
          {
            "name": "default_bounty_lamports",
            "docs": ["Default bounty amount"],
            "type": "u64"
          },
          {
            "name": "times_used",
            "docs": ["Number of tasks created from this template"],
            "type": "u64"
          },
          {
            "name": "category",
            "docs": ["Task category"],
            "type": {
              "defined": {
                "name": "TaskCategory"
              }
            }
          },
          {
            "name": "is_active",
            "docs": ["Whether template is active"],
            "type": "bool"
          },
          {
            "name": "bump",
            "docs": ["PDA bump"],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "TemplateCreated",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "template",
            "type": "pubkey"
          },
          {
            "name": "creator",
            "type": "pubkey"
          },
          {
            "name": "template_index",
            "type": "u64"
          },
          {
            "name": "category",
            "type": {
              "defined": {
                "name": "TaskCategory"
              }
            }
          }
        ]
      }
    },
    {
      "name": "VoteCast",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "dispute",
            "type": "pubkey"
          },
          {
            "name": "voter",
            "type": "pubkey"
          },
          {
            "name": "ruling",
            "type": {
              "defined": {
                "name": "Ruling"
              }
            }
          }
        ]
      }
    }
  ]
}
